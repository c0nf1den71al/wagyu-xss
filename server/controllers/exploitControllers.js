const Host = require("../models/Host");

module.exports.getQueue = async (hostId) => {
    try {
        const implant = await Host.findById(hostId);
        return implant.queue;
    } catch (err) {
        console.log(err);
    }
}

module.exports.processCompleteCommands = async (hostId, commands) => {
    try {
        const host = await Host.findById(hostId);
        commands.forEach(command => {
            host.queue = host.queue.filter(item => item.id !== command.id);
        });
        await host.save();
    } catch (err) {
        console.log(err);
    }
}